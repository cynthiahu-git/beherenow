<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Be Here Now</title>
   
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:700&display=swap" rel="stylesheet">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!--     <script src="/js/script.js"></script>-->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.4/gsap.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TimelineMax.min.js"></script>
     
     <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
</head>
<body>
    <div class="wrap">
       <div class="content">
        <div class="section1 section_wipe">
       
       <div class="flex">
       <div>
			<p> <span class="ink">Are you here?</span> </p>
			</div>
          
           <div class="mouse"></div>
          
		</div>

        </div>

    <div class="section2">
        
           <div class="banner_img">
               <img src="/img/scrolling_banner-1.png" alt="">
               <img src="/img/scrolling_banner-2.png" alt="" id="banner_img_island">
               
           </div>

           <div class="banner">
            <div class="scrolling_banner">
                <div><p>Regretting Planning Working Desiring Worrying</p></div>
                <div><p>Regretting Planning Working Desiring Worrying</p></div>
            </div>
            <div class="scrolling_banner">
                <div><p>Resisting Obsessing Complaining Waiting Wandering Wondering</p></div>
                <div><p>Resisting Obsessing Complaining Waiting Wandering Wondering</p></div>
            </div>
         </div>
            
            <div class="destination">
            <div class="background">
                <img src="/img/img2_bac.png" alt="">
            </div>
            
<!--
            <div class="fade-in">
            <div class="show">
            <p>Our destination somewhere away.</p>
            <p>How much more life will you waste?</p>
            </div>

            </div>
-->
            
    </div>    
    </div>
           
    <div class="section3">
   
        <div class="starynight clearfix">
            <img src="../img/img3.jpg" alt="">
        <div class="man">
            <img src="../img/man.png" alt="">
        </div>

        <div class="text">
            <div class="fade-in">
                <p>Search for peace on a journey.</p>
                <p>And you shall not find it.</p>
                <p>No matter your years in meditation.</p>
                <p>Return within yourself.</p>
                <p>To find you had it all along.</p>
            </div>
        </div>
        </div>
    </div>
       
            
<div class="section4">
   <div class="section4-wrap">
   <div class="mountain clearfix">
    <img src="../img/mountain.jpg" alt="">
    </div>
    <div class="lake clearfix">
       <img src="../img/lake-2.jpg" alt="">
    </div>
    <div class="moon">
        <img src="../img/moon.png" alt="">
    </div>
    <div class="boat">
        <img src="../img/boat.png" alt="">
    </div>
<!--    <img src="../img/moon.png" alt="" id="moon">-->
    
    <div class="lake-text">
    <p>No matter how heavy the rain</p> 
<p>Or sunny the surface of a lake,</p>
<p>The deepest waters are slow all the same.</p>
<p>The depths, the now, heeds not the storm.</p></div>
    </div>
    
</div>

            
        
        
<div class="section5">
    <div class="section5-wrap">
      <div class="bacimg">
          
      </div>
       <div class="underlake-text">
         <div class="fish">
             <img src="../img/fish.png" alt="">
         </div>
         <div class="scuba-diving">
             <img src="../img/scubadiving.png" alt="">
         </div>
          <div class="one">
              <p>For you are the entire lake</p>
              <p>And all its algid waters</p>
              <p>Down to the eternal stones </p>
              <p>Dreaming in the still abyss.</p>
          </div>
            
          <div class="two">
              <p>Simply gaze under </p>
              <p>The turbulent surface</p>
              <p>Below all the chaos</p>
              <p>Under the foaming tides.</p>
          </div>

            <div class="three">
              <p>Do not entrust yourself  </p>
              <p>To the mercurial surface world.</p>
              <p>Do not sail blindly </p>
              <p>Upon the winds of impermanence.</p>
          </div>
            
           
           
             

            <div class="four">
                <p>But sink deep. Be still. At peace.</p>
            
          </div>

          
      <div class="five">
       <div>
	<p><span class="ink">Anchored to the now</span></p>
			</div>
		</div>


        <div class="bottom-img">
            <img src="../img/bottom.png" alt="">
        </div>


       </div>
    
    </div>
    
</div>
            
           
        
        </div>
        

    </div>
</body>

<!--
<script>

    $(document).ready(function(){
         
        var controller = new ScrollMagic.Controller();
        
        var ourScene = new ScrollMagic.scene({
            triggerElement: '.fade-in',
            reverse: false
        })
        
            .setClassToggle('.fade-in', 'show')
            .addTo(controller);
    });
    
</script>
-->

<script>

var tl = new TimelineMax({onUpdate:updatePercentage});
var tl2 = new TimelineMax({onUpdate:updatePercentage});
var tl3 = new TimelineMax({onUpdate:updatePercentage});
var tl4 = new TimelineMax({onUpdate:updatePercentage});


const controller = new ScrollMagic.Controller();

    tl.from(".fade-in", .5, {x:200,opacity:0});
     tl.from(".man", .5, {x:-100,opacity:0});
     tl2.from(".moon", .1, {y:-100,opacity:0});
    tl2.from(".lake-text", .8, {y:-400});
    tl2.from(".boat", .5, {x:300});
    tl3.from(".fish", .3, {x:-500});
    tl4.from(".one", .4, {x:-200,opacity:0});
    tl4.from(".scuba-diving", 1.9,{x:-150,y:-850});

    tl4.from(".two", .6, {x:200,y:300,opacity:0});
    tl4.from(".three", .9, {x:-100,y:400,opacity:0});
   
    
   
     
    const scene = new ScrollMagic.Scene({
  triggerElement: ".section3",
            triggerHook: "onLeave",
            duration: "100%"
})
  .setPin(".section3")
  .setTween(tl)
  .addTo(controller);
    
    
  const scene2 = new ScrollMagic.Scene({
  triggerElement: ".mountain",
            triggerHook: "onLeave",
            duration: "100%"
})
//  .setPin(".section4")
  .setTween(tl2)
  .addTo(controller);

    
    const scene3 = new ScrollMagic.Scene({
  triggerElement: ".boat",
            triggerHook: "onLeave",
            duration: "100%"
})
//  .setPin(".mountain")
  .setTween(tl3)
  .addTo(controller);
    
     const scene4 = new ScrollMagic.Scene({
  triggerElement: ".section5",
            triggerHook: "onLeave",
            duration: "100%"
})
//  .setPin(".mountain")
  .setTween(tl4)
  .addTo(controller);
    
       const scene5 = new ScrollMagic.Scene({
  triggerElement: ".section5",
            triggerHook: "onLeave",
            duration: "100%"
})
//  .setPin(".mountain")
  .setTween(tl)
  .addTo(controller);
  
    
function updatePercentage() {
  //percent.innerHTML = (tl.progress() *100 ).toFixed();
  tl.progress();
  console.log(tl.progress());
}
    
</script>



<script>
(function(){
	function wrapWords(el) {
		'use strict';
		$(el).filter(':not(script)').contents().each(function () {
			if (this.nodeType === Node.ELEMENT_NODE) {
				wrapWords(this);
			} else if (this.nodeType === Node.TEXT_NODE && !this.nodeValue.match(/^\s+$/m)) {
				$(this).replaceWith($.map(this.nodeValue.split(/(\S+)/), function (w) {
					return w.match(/^\s*$/) ? document.createTextNode(w) : $('<span>', {class: 'word', text: w}).get();
				}));
			}
		});
	};


	 $('.ink').each(function(){
		$(this).html(wrapWords(this));

		$(this).find('.word').each(function(){
			inkout($(this));
			$(this).addClass('initialized');
		});
	});

	$('body').on('DOMNodeInserted', function(e) {
		if ($(e.target).is('.ink') && $(e.target).hasClass('initialized') == false) {
			setTimeout(function(){
				$(e.target).html(wrapWords(e.target));

				$(e.target).find('.word').each(function(){
					if(!$(this).hasClass('initialized')){
						inkout($(this));
						$(this).addClass('initialized');
					}
				});
				$(e.target).addClass('initialized');
			}, 100);
		}
	});


	function css( element, property ) {
		return window.getComputedStyle( element, null ).getPropertyValue( property );
	}

	function inkout(element){
		element.parent().css('position','relative');
		var startTime = new Date().getTime();
		var currentTime = startTime / 1000;
		var font = element.css('font-size') +' '+ element.css('font-family');
		var color = element.css('color');
		var text = element.html();

		var particles = [];
		var hoverArray = [];

		var cw = element.width(),
		    ch = element.height();
		element.html('');
		var canvas = $('<canvas/>').attr({width: cw, height: ch}).css({display: 'inline-block','vertical-align': 'text-bottom'}).appendTo(element),
		    context = canvas.get(0).getContext("2d");

		function drawText(){
			context.clearRect(0,0,cw,ch);
			context.fillStyle = color;
			context.clearRect(0,0,cw,ch);
			context.font = font;
			context.textAlign = "center";
			context.fillText(text,cw/2, ch - (ch/5));
		}

		$(window).resize(function(){
			element.html(text);
			font = element.css('font-size') +' '+ element.css('font-family');
			particles = [];
			cw = element.width(),
				ch = element.height();
			element.html('');
			canvas = $('<canvas/>').attr({width: cw, height: ch}).css({display: 'inline-block','vertical-align': 'top'}).appendTo(element),
				context = canvas.get(0).getContext("2d");
			drawText();
			scramble();
		});
		drawText();

		function hover(x,y){
			var id = hoverArray.length;
			hoverArray.push([x,y]);

			setTimeout(function(){
				hoverArray[id] = undefined;
			},1300);
		}

		$(document).click(function(){
			hoverArray = [];
		});

		element.parent().on('mousemove touchmove',function(e){
			e.preventDefault();
			var x = e.pageX - element.offset().left;
			var y = e.pageY - element.offset().top;
			hover(x,y);
		});


		var particle = function(x,y,visible,color){
			this.color = 'rgba('+color[0]+','+color[1]+','+color[2]+','+color[3] / 255+')';
			this.visible = visible;
			this.realx = x;
			this.realy = y;

			this.toplace = false;

			this.rate = Math.round(Math.random() * 12) - 8;

			this.spin = Math.round(Math.random() * 2);

			this.x = x;
			this.y = y;

			particles.push(this);
		}
		particle.prototype.draw = function(){
			var l = false;
			for(var i = 0; i < hoverArray.length; i++){
				if(hoverArray[i]){
					if(this.realx >= hoverArray[i][0] - 25 && this.realx <= hoverArray[i][0] + 25 && hoverArray[i]){
						if(this.realy >= hoverArray[i][1] - 25 && this.realy <= hoverArray[i][1] + 25 && hoverArray[i]){
							this.toplace = true;
							l = true;
						}
					}
				}
			}
			if(l == false){
				this.toplace = false;
			}

			if(this.toplace == false){
				if(this.spin == 1){
					this.x = this.realx + Math.floor(Math.sin(currentTime) * this.rate);
				} else if(this.spin == 0){
					this.y = this.realy + Math.floor(Math.cos(-currentTime) * this.rate);
				} else {
					this.x = this.realx + Math.floor(Math.sin(-currentTime) * this.rate);
					this.y = this.realy + Math.floor(Math.cos(currentTime) * this.rate);
				}
			} else {
				if(this.x < this.realx){
					this.x++;
				} else if(this.x > this.realx){
					this.x--;
				}
				if(this.y < this.realy){
					this.y++;
				} else if(this.y > this.realy){
					this.y--;
				}
			}

			if(this.visible == true || this.toplace == true){
				context.fillStyle = this.color;
				context.fillRect(this.x, this.y, 1,1);
			}
		}

		function scramble(){
			for(var y = 1; y < ch; y+=1){
				for(var x = 0; x < cw; x++){
					if(context.getImageData(x, y, 1, 1).data[3] >= 1){
						if(Math.round(Math.random() * 3) >= 2){
							new particle(x,y,false,context.getImageData(x, y, 1, 1).data);
						} else {
							new particle(x,y,true,context.getImageData(x, y, 1, 1).data);
						}
					}
				}
			}
		}
		scramble();
		var requestframe = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame ||
		    // IE Fallback, you can even fallback to onscroll
		    function (callback) {
			    window.setTimeout(callback, 1000 / 60);
		    };
		function loop(){
			var now = new Date().getTime();
			currentTime = (now - startTime) / 1000;
			context.clearRect(0,0,cw,ch);
			for(var i = 0; i < particles.length; i++){
				particles[i].draw();
			}

			requestframe(loop);
		}
		loop();
	}
})();    

    
</script>


<script>
	$(function () { // wait for document ready
		// init
		var controller = new ScrollMagic.Controller({
			globalSceneOptions: {
				triggerHook: 'onLeave',
				duration: "100%"
			}
		});

		// get all slides
		var slides = document.querySelectorAll('.section_wipe');

		// create scene for every slide
		for (var i=0; i<slides.length; i++) {
			new ScrollMagic.Scene({
					triggerElement: slides[i]
				})
				.setPin(slides[i], {pushFollowers: false})
				.addTo(controller);
            
		}
	});
</script>




<!--moving img1 down when scrolling-->

<script>
    document.addEventListener('DOMContentLoaded',() => {
    let controller = new ScrollMagic.Controller();
    
    let timeline = new TimelineMax();
        timeline
        .from('#banner_img_island',10,{
            y:-1300,
            x:0,
            ease: "easing",
        })
    
    let scene = new ScrollMagic.Scene({
        behavior: 'smooth',
        triggerElement:'.section2',
        duration:'100%',
        triggerHook:0,
        offset:'150'
    })
    .setTween(timeline)
//    .setPin('.section2')
    .addTo(controller);
})    

</script>

<script>

    $(document).ready(function(){
        
        var controller = new ScrollMagic.Controller();
        
        var ourScene = new ScrollMagic.Scene({
            triggerElement: '.fade-in',
        })
        
            .setClassToggle('.fade-in','show')
            .addTo(controller);
    })
</script>




</html>